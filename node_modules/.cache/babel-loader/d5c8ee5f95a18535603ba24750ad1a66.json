{"ast":null,"code":"const LOAD = 'modules/Home/LOAD';\nconst GET_DATA = 'modules/Home/GET_DATA';\nconst FAIL = 'modules/Home/FAIL';\nconst HANDLE_LOVED = 'modules/Home/HANDLE_LOVED';\nconst ADD_BUY = 'modules/Home/ADD_BUY';\nconst initialState = {\n  data: {\n    category: [{\n      imageUrl: '',\n      id: 0,\n      name: ''\n    }],\n    productPromo: [{\n      id: '',\n      imageUrl: '',\n      title: '',\n      description: '',\n      price: '',\n      loved: 0\n    }],\n    productSold: [{\n      id: '',\n      imageUrl: '',\n      title: '',\n      description: '',\n      price: '',\n      loved: 0\n    }]\n  }\n};\nexport default function reducer(state = initialState, action = {}) {\n  switch (action.type) {\n    case LOAD:\n      return { ...state,\n        loaded: false,\n        loading: true\n      };\n\n    case GET_DATA:\n      const object = action.result[0];\n      return { ...object,\n        loaded: true,\n        loading: false\n      };\n\n    case FAIL:\n      delete state.result;\n      return {\n        loaded: true,\n        loading: false,\n        result: false,\n        error: action.error\n      };\n\n    case HANDLE_LOVED:\n      const isLoved = state.data.productPromo.filter(x => x.id === action.id);\n      isLoved[0].loved = action.value;\n      return { ...state,\n        loaded: true,\n        loading: false\n      };\n\n    case ADD_BUY:\n      const bought = state.data.productPromo.filter(x => x.id === action.id);\n      state.data.productSold = bought;\n      state.data.productSold = state.data.productSold.concat([{\n        id: '',\n        imageUrl: '',\n        title: '',\n        description: '',\n        price: '',\n        loved: 0\n      }]);\n      const soldProduct = [];\n      const promoProduct = [];\n      const categories = [];\n      state.data.productSold.map(data => {\n        soldProduct.push({\n          id: data.id || '',\n          imageUrl: data.imageUrl || '',\n          title: data.title || '',\n          description: data.description || '',\n          price: data.price || '',\n          loved: data.loved || 0\n        });\n        return soldProduct;\n      });\n      state.data.productPromo.map(data => {\n        promoProduct.push({\n          id: data.id || '',\n          imageUrl: data.imageUrl || '',\n          title: data.title || '',\n          description: data.description || '',\n          price: data.price || '',\n          loved: data.loved || 0\n        });\n        return promoProduct;\n      });\n      state.data.category.map(data => {\n        categories.push({\n          imageUrl: data.imageUrl || '',\n          id: data.id || 0,\n          name: data.name || ''\n        });\n        return categories;\n      });\n      state = {\n        category: categories || [],\n        productPromo: promoProduct || [],\n        productSold: soldProduct || []\n      };\n      return { ...state,\n        loaded: false,\n        loading: true\n      };\n\n    default:\n      return state;\n  }\n}\nexport function getDataHome() {\n  const url = 'https://private-4639ce-ecommerce56.apiary-mock.com/home';\n  return {\n    types: [LOAD, GET_DATA, FAIL],\n    promise: client => client.get(url, {})\n  };\n}\nexport function handleLoved(value, id, fieldName) {\n  return {\n    type: HANDLE_LOVED,\n    value,\n    id,\n    fieldName\n  };\n}\nexport function addBuy(id) {\n  return {\n    type: ADD_BUY,\n    id\n  };\n}","map":{"version":3,"sources":["/Users/gredu/Documents/react-marketplace/src/redux-modules/modules/Home.js"],"names":["LOAD","GET_DATA","FAIL","HANDLE_LOVED","ADD_BUY","initialState","data","category","imageUrl","id","name","productPromo","title","description","price","loved","productSold","reducer","state","action","type","loaded","loading","object","result","error","isLoved","filter","x","value","bought","concat","soldProduct","promoProduct","categories","map","push","getDataHome","url","types","promise","client","get","handleLoved","fieldName","addBuy"],"mappings":"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","sourcesContent":["const LOAD = 'modules/Home/LOAD';\nconst GET_DATA = 'modules/Home/GET_DATA';\nconst FAIL = 'modules/Home/FAIL';\nconst HANDLE_LOVED = 'modules/Home/HANDLE_LOVED';\nconst ADD_BUY = 'modules/Home/ADD_BUY';\n\nconst initialState = {\n    data: {\n        category: [\n            {\n                imageUrl: '',\n                id: 0,\n                name: '',\n            },\n        ],\n        productPromo: [\n            {\n                id: '',\n                imageUrl: '',\n                title: '',\n                description: '',\n                price: '',\n                loved: 0,\n            },\n        ],\n        productSold: [\n            {\n                id: '',\n                imageUrl: '',\n                title: '',\n                description: '',\n                price: '',\n                loved: 0,\n            }\n        ]\n    },\n};\n\nexport default function reducer(state = initialState, action = {}) {\n    switch (action.type) {\n        case LOAD:\n            return {\n                ...state,\n                loaded: false,\n                loading: true,\n            };\n\n        case GET_DATA:\n            const object = action.result[0];\n\n            return {\n                ...object,\n                loaded: true,\n                loading: false,\n            }\n\n        case FAIL:\n            delete state.result;\n            return {\n                loaded: true,\n                loading: false,\n                result: false,\n                error: action.error,\n            };\n\n        case HANDLE_LOVED:\n            const isLoved = state.data.productPromo.filter(x => x.id === action.id);\n            isLoved[0].loved = action.value;\n            return {\n                ...state,\n                loaded: true,\n                loading: false,\n            };\n\n        case ADD_BUY:\n            const bought = state.data.productPromo.filter(x => x.id === action.id);\n            state.data.productSold = bought;\n            state.data.productSold = state.data.productSold.concat([\n                {\n                    id: '',\n                    imageUrl: '',\n                    title: '',\n                    description: '',\n                    price: '',\n                    loved: 0,\n                },\n            ]);\n\n            const soldProduct = [];\n            const promoProduct = [];\n            const categories = [];\n\n            state.data.productSold.map((data) => {\n                soldProduct.push({\n                    id: data.id || '',\n                    imageUrl: data.imageUrl || '',\n                    title: data.title || '',\n                    description: data.description || '',\n                    price: data.price || '',\n                    loved: data.loved || 0,\n                });\n\n                return soldProduct;\n            });\n\n            state.data.productPromo.map((data) => {\n                promoProduct.push({\n                    id: data.id || '',\n                    imageUrl: data.imageUrl || '',\n                    title: data.title || '',\n                    description: data.description || '',\n                    price: data.price || '',\n                    loved: data.loved || 0,\n                });\n\n                return promoProduct;\n            });\n\n            state.data.category.map((data) => {\n                categories.push({\n                    imageUrl: data.imageUrl || '',\n                    id: data.id || 0,\n                    name: data.name || '',\n                })\n                return categories;\n            })\n\n            state = {\n                category: categories || [],\n                productPromo: promoProduct || [],\n                productSold: soldProduct || [],\n            };\n\n            return {\n                ...state,\n                loaded: false,\n                loading: true,\n            };\n\n        default:\n            return state;\n    }\n}\n\nexport function getDataHome() {\n    const url = 'https://private-4639ce-ecommerce56.apiary-mock.com/home';\n    return {\n        types: [LOAD, GET_DATA, FAIL],\n        promise: client => client.get(url, {}),\n    };\n}\n\nexport function handleLoved(value, id, fieldName) {\n    return {\n        type: HANDLE_LOVED,\n        value,\n        id,\n        fieldName,\n    };\n}\n\nexport function addBuy(id) {\n    return {\n        type: ADD_BUY,\n        id,\n    };\n}"]},"metadata":{},"sourceType":"module"}