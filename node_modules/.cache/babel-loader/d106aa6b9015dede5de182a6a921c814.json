{"ast":null,"code":"const LOAD = \"modules/Home/LOAD\";\nconst GET_DATA = \"modules/Home/GET_DATA\";\nconst FAIL = \"modules/Home/FAIL\";\nconst HANDLE_LOVED = \"modules/Home/HANDLE_LOVED\";\nconst ADD_BUY = \"modules/Home/ADD_BUY\";\nconst initialState = {\n  data: {\n    category: [{\n      imageUrl: \"\",\n      id: 0,\n      name: \"\"\n    }],\n    productPromo: [{\n      id: \"\",\n      imageUrl: \"\",\n      title: \"\",\n      description: \"\",\n      price: \"\",\n      loved: 0\n    }],\n    productSold: [{\n      id: \"\",\n      imageUrl: \"\",\n      title: \"\",\n      description: \"\",\n      price: \"\",\n      loved: 0\n    }]\n  }\n};\nexport default function reducer(state = initialState, action = {}) {\n  switch (action.type) {\n    case LOAD:\n      return { ...state,\n        loaded: false,\n        loading: true\n      };\n\n    case GET_DATA:\n      const object = action.result[0];\n      return { ...object,\n        loaded: true,\n        loading: false\n      };\n\n    case FAIL:\n      delete state.result;\n      return {\n        loaded: true,\n        loading: false,\n        result: false,\n        error: action.error\n      };\n\n    case HANDLE_LOVED:\n      const isLoved = state.data.productPromo.filter(x => x.id === action.id);\n      isLoved[0].loved = action.value;\n      return { ...state,\n        loaded: true,\n        loading: false\n      };\n\n    case ADD_BUY:\n      const bought = state.data.productPromo.filter(x => x.id === action.id);\n      state.data.productSold = bought;\n      state.data.productSold = state.data.productSold.concat([{\n        id: \"\",\n        imageUrl: \"\",\n        title: \"\",\n        description: \"\",\n        price: \"\",\n        loved: 0\n      }]);\n      const soldProduct = [];\n      const promoProduct = [];\n      const categories = [];\n\n      if (state.data.productSold) {\n        if (state.data.productSold === 0) {\n          state.data.productSold.push({\n            id: \"\",\n            imageUrl: \"\",\n            title: \"\",\n            description: \"\",\n            price: \"\",\n            loved: 0\n          });\n        }\n      }\n\n      if (state.data.productSold) {\n        state.data.productSold.map(data => {\n          soldProduct.push({\n            id: data.id || \"\",\n            imageUrl: data.imageUrl || \"\",\n            title: data.title || \"\",\n            description: data.description || \"\",\n            price: data.price || \"\",\n            loved: data.loved || 0\n          });\n          return state.data.productSold;\n        });\n      }\n\n      if (state.data.productPromo) {\n        if (state.data.productPromo === 0) {\n          state.data.productPromo.push({\n            id: \"\",\n            imageUrl: \"\",\n            title: \"\",\n            description: \"\",\n            price: \"\",\n            loved: 0\n          });\n        }\n      }\n\n      if (state.data.productPromo) {\n        state.data.productPromo.map(data => {\n          promoProduct.push({\n            id: data.id || \"\",\n            imageUrl: data.imageUrl || \"\",\n            title: data.title || \"\",\n            description: data.description || \"\",\n            price: data.price || \"\",\n            loved: data.loved || 0\n          });\n          return state.data.productPromo;\n        });\n      }\n\n      if (state.data.category) {\n        if (state.data.category === 0) {\n          state.data.category.push({\n            imageUrl: \"\",\n            id: 0,\n            name: \"\"\n          });\n        }\n      }\n\n      if (state.data.productPromo) {\n        state.data.productPromo.map(data => {\n          promoProduct.push({\n            id: data.id || \"\",\n            imageUrl: data.imageUrl || \"\",\n            name: data.name || \"\"\n          });\n          return state.data.productPromo;\n        });\n      }\n\n      state.data.category.map(data => {\n        categories.push({\n          imageUrl: data.imageUrl || \"\",\n          id: data.id || 0,\n          name: data.name || \"\"\n        });\n        return categories;\n      });\n      state = {\n        category: categories || [],\n        productPromo: promoProduct || [],\n        productSold: soldProduct || []\n      };\n      return { ...state,\n        loaded: false,\n        loading: true\n      };\n\n    default:\n      return state;\n  }\n}\nexport function getDataHome() {\n  const url = \"https://private-4639ce-ecommerce56.apiary-mock.com/home\";\n  return {\n    types: [LOAD, GET_DATA, FAIL],\n    promise: client => client.get(url, {})\n  };\n}\nexport function handleLoved(value, id, fieldName) {\n  return {\n    type: HANDLE_LOVED,\n    value,\n    id,\n    fieldName\n  };\n}\nexport function addBuy(id) {\n  return {\n    type: ADD_BUY,\n    id\n  };\n}","map":{"version":3,"sources":["/Users/gredu/Documents/react-marketplace/src/redux-modules/modules/Home.js"],"names":["LOAD","GET_DATA","FAIL","HANDLE_LOVED","ADD_BUY","initialState","data","category","imageUrl","id","name","productPromo","title","description","price","loved","productSold","reducer","state","action","type","loaded","loading","object","result","error","isLoved","filter","x","value","bought","concat","soldProduct","promoProduct","categories","push","map","getDataHome","url","types","promise","client","get","handleLoved","fieldName","addBuy"],"mappings":"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","sourcesContent":["const LOAD = \"modules/Home/LOAD\";\nconst GET_DATA = \"modules/Home/GET_DATA\";\nconst FAIL = \"modules/Home/FAIL\";\nconst HANDLE_LOVED = \"modules/Home/HANDLE_LOVED\";\nconst ADD_BUY = \"modules/Home/ADD_BUY\";\n\nconst initialState = {\n  data: {\n    category: [\n      {\n        imageUrl: \"\",\n        id: 0,\n        name: \"\",\n      }\n    ],\n    productPromo: [\n      {\n        id: \"\",\n        imageUrl: \"\",\n        title: \"\",\n        description: \"\",\n        price: \"\",\n        loved: 0,\n      }\n    ],\n    productSold: [\n      {\n        id: \"\",\n        imageUrl: \"\",\n        title: \"\",\n        description: \"\",\n        price: \"\",\n        loved: 0,\n      }\n    ]\n  }\n};\n\nexport default function reducer(state = initialState, action = {}) {\n  switch (action.type) {\n    case LOAD:\n      return {\n        ...state,\n        loaded: false,\n        loading: true\n      };\n\n    case GET_DATA:\n      const object = action.result[0];\n\n      return {\n        ...object,\n        loaded: true,\n        loading: false\n      };\n\n    case FAIL:\n      delete state.result;\n      return {\n        loaded: true,\n        loading: false,\n        result: false,\n        error: action.error\n      };\n\n    case HANDLE_LOVED:\n      const isLoved = state.data.productPromo.filter(x => x.id === action.id);\n      isLoved[0].loved = action.value;\n      return {\n        ...state,\n        loaded: true,\n        loading: false\n      };\n\n    case ADD_BUY:\n      const bought = state.data.productPromo.filter(x => x.id === action.id);\n      state.data.productSold = bought;\n      state.data.productSold = state.data.productSold.concat([\n        {\n          id: \"\",\n          imageUrl: \"\",\n          title: \"\",\n          description: \"\",\n          price: \"\",\n          loved: 0,\n        }\n      ]);\n\n      const soldProduct = [];\n      const promoProduct = [];\n      const categories = [];\n\n      if (state.data.productSold) {\n        if (state.data.productSold === 0) {\n          state.data.productSold.push({\n            id: \"\",\n            imageUrl: \"\",\n            title: \"\",\n            description: \"\",\n            price: \"\",\n            loved: 0,\n          });\n        }\n      }\n      if (state.data.productSold) {\n        state.data.productSold.map(data => {\n          soldProduct.push({\n            id: data.id || \"\",\n            imageUrl: data.imageUrl || \"\",\n            title: data.title || \"\",\n            description: data.description || \"\",\n            price: data.price || \"\",\n            loved: data.loved || 0,\n          });\n\n          return state.data.productSold;\n        });\n      }\n\n      if (state.data.productPromo) {\n        if (state.data.productPromo === 0) {\n          state.data.productPromo.push({\n            id: \"\",\n            imageUrl: \"\",\n            title: \"\",\n            description: \"\",\n            price: \"\",\n            loved: 0,\n          });\n        }\n      }\n      if (state.data.productPromo) {\n        state.data.productPromo.map(data => {\n          promoProduct.push({\n            id: data.id || \"\",\n            imageUrl: data.imageUrl || \"\",\n            title: data.title || \"\",\n            description: data.description || \"\",\n            price: data.price || \"\",\n            loved: data.loved || 0,\n          });\n\n          return state.data.productPromo;\n        });\n      }\n\n      if (state.data.category) {\n        if (state.data.category === 0) {\n          state.data.category.push({\n            imageUrl: \"\",\n            id: 0,\n            name: \"\",\n          });\n        }\n      }\n      if (state.data.productPromo) {\n        state.data.productPromo.map(data => {\n          promoProduct.push({\n            id: data.id || \"\",\n            imageUrl: data.imageUrl || \"\",\n            name: data.name || \"\",\n          });\n\n          return state.data.productPromo;\n        });\n      }\n\n      state.data.category.map(data => {\n        categories.push({\n          imageUrl: data.imageUrl || \"\",\n          id: data.id || 0,\n          name: data.name || \"\"\n        });\n        return categories;\n      });\n\n      state = {\n        category: categories || [],\n        productPromo: promoProduct || [],\n        productSold: soldProduct || []\n      };\n\n      return {\n        ...state,\n        loaded: false,\n        loading: true\n      };\n\n    default:\n      return state;\n  }\n}\n\nexport function getDataHome() {\n  const url = \"https://private-4639ce-ecommerce56.apiary-mock.com/home\";\n  return {\n    types: [LOAD, GET_DATA, FAIL],\n    promise: client => client.get(url, {})\n  };\n}\n\nexport function handleLoved(value, id, fieldName) {\n  return {\n    type: HANDLE_LOVED,\n    value,\n    id,\n    fieldName\n  };\n}\n\nexport function addBuy(id) {\n  return {\n    type: ADD_BUY,\n    id\n  };\n}\n"]},"metadata":{},"sourceType":"module"}