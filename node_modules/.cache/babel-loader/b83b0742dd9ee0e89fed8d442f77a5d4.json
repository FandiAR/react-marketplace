{"ast":null,"code":"import superagent from 'superagent';\nconst methods = ['get', 'post', 'put', 'patch', 'del'];\nexport default class ApiClient {\n  constructor(req) {\n    methods.forEach(method => {\n      this[method] = (path, params, data, files, fields = false) => new Promise((resolve, reject) => {\n        let request;\n        request = superagent[method](path);\n\n        if (params) {\n          request.query(params);\n        }\n\n        if (files) {\n          files.forEach(file => request.attach(file.key, file.value));\n        }\n\n        if (fields) {\n          fields.forEach(item => request.field(item.key, item.value));\n        }\n\n        if (data) {\n          request.send(data);\n        }\n\n        request.end((err, {\n          body\n        } = {}) => err ? reject(body || err) : resolve(body));\n      });\n    });\n  }\n\n}","map":{"version":3,"sources":["/Users/gredu/Documents/sehatq-fandi/src/routes/ApiHost.js"],"names":["superagent","methods","ApiClient","constructor","req","forEach","method","path","params","data","files","fields","Promise","resolve","reject","request","query","file","attach","key","value","item","field","send","end","err","body"],"mappings":"AAAA,OAAOA,UAAP,MAAuB,YAAvB;AAEA,MAAMC,OAAO,GAAG,CAAC,KAAD,EAAQ,MAAR,EAAgB,KAAhB,EAAuB,OAAvB,EAAgC,KAAhC,CAAhB;AAEA,eAAe,MAAMC,SAAN,CAAgB;AAC7BC,EAAAA,WAAW,CAACC,GAAD,EAAM;AACfH,IAAAA,OAAO,CAACI,OAAR,CAAgBC,MAAM,IAAI;AAExB,WAAKA,MAAL,IAAe,CAACC,IAAD,EAAOC,MAAP,EAAeC,IAAf,EAAqBC,KAArB,EAA4BC,MAAM,GAAG,KAArC,KAA+C,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AAE7F,YAAIC,OAAJ;AACAA,QAAAA,OAAO,GAAGf,UAAU,CAACM,MAAD,CAAV,CAAmBC,IAAnB,CAAV;;AAEA,YAAIC,MAAJ,EAAY;AACVO,UAAAA,OAAO,CAACC,KAAR,CAAcR,MAAd;AACD;;AAED,YAAIE,KAAJ,EAAW;AACTA,UAAAA,KAAK,CAACL,OAAN,CAAcY,IAAI,IAAIF,OAAO,CAACG,MAAR,CAAeD,IAAI,CAACE,GAApB,EAAyBF,IAAI,CAACG,KAA9B,CAAtB;AACD;;AAED,YAAIT,MAAJ,EAAY;AACVA,UAAAA,MAAM,CAACN,OAAP,CAAegB,IAAI,IAAIN,OAAO,CAACO,KAAR,CAAcD,IAAI,CAACF,GAAnB,EAAwBE,IAAI,CAACD,KAA7B,CAAvB;AACD;;AAED,YAAIX,IAAJ,EAAU;AACRM,UAAAA,OAAO,CAACQ,IAAR,CAAad,IAAb;AACD;;AACDM,QAAAA,OAAO,CAACS,GAAR,CAAY,CAACC,GAAD,EAAM;AAAEC,UAAAA;AAAF,YAAW,EAAjB,KAAyBD,GAAG,GAAGX,MAAM,CAACY,IAAI,IAAID,GAAT,CAAT,GAAyBZ,OAAO,CAACa,IAAD,CAAxE;AACD,OArB6D,CAA9D;AAsBD,KAxBD;AAyBD;;AA3B4B","sourcesContent":["import superagent from 'superagent';\n\nconst methods = ['get', 'post', 'put', 'patch', 'del'];\n\nexport default class ApiClient {\n  constructor(req) {\n    methods.forEach(method => {\n\n      this[method] = (path, params, data, files, fields = false) => new Promise((resolve, reject) => {\n\n        let request;\n        request = superagent[method](path);\n\n        if (params) {\n          request.query(params);\n        }\n\n        if (files) {\n          files.forEach(file => request.attach(file.key, file.value));\n        }\n\n        if (fields) {\n          fields.forEach(item => request.field(item.key, item.value));\n        }\n\n        if (data) {\n          request.send(data);\n        }\n        request.end((err, { body } = {}) => (err ? reject(body || err) : resolve(body)));\n      });\n    });\n  }\n}\n"]},"metadata":{},"sourceType":"module"}