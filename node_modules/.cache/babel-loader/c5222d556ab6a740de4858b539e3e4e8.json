{"ast":null,"code":"var _jsxFileName = \"/Users/gredu/Documents/sehatq-fandi/src/views/search/Index.js\";\nimport React, { useRef, useEffect, useState } from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport PageTitle from '../../components/title/Index';\nimport { getDataHome } from '../../redux-modules/modules/Home';\nimport { IoIosSearch } from 'react-icons/io';\nimport { MdKeyboardBackspace } from 'react-icons/md';\n\nclass SearchPage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      searchResults: []\n    };\n  }\n\n  componentDidMount() {\n    const {\n      getDataHome\n    } = this.props;\n    getDataHome();\n  }\n\n  render() {\n    const {\n      getDataHome,\n      history,\n      dataHome\n    } = this.props;\n    const {\n      data\n    } = dataHome;\n    let {\n      searchResults\n    } = this.state;\n    let content = []; // const inputEl = useRef('');\n\n    let products = []; // useEffect(() => {\n    //     getDataHome();\n    // }, [getDataHome]);\n    // let [searchName] = useState('');\n    // let searchResults = [];\n\n    const backToHome = e => {\n      e.preventDefault();\n      history.push('/home');\n    };\n\n    const handleSearch = e => {\n      e.preventDefault();\n      let search = e.target.value;\n\n      if (search) {\n        search = search.toLowerCase();\n\n        if (data) {\n          if (data.productPromo) {\n            if (data.productPromo.length > 0) {\n              products = data.productPromo;\n              const dataSearch = data.productPromo.filter(x => x.title.toLowerCase().includes(e.target.value.toLowerCase()));\n\n              if (dataSearch.length === 0) {\n                searchResults = [];\n                console.log('searchResults', searchResults);\n              } else {\n                searchResults = dataSearch;\n                console.log('searchResults', searchResults);\n              }\n            }\n          }\n        }\n      } else {\n        console.log('searchResults', searchResults);\n        searchResults = products;\n      }\n    };\n\n    if (searchResults) {\n      if (searchResults.length > 0) {\n        console.log('masuk');\n        searchResults.map((dataResult, indexResult) => {\n          content.push(React.createElement(\"div\", {\n            key: indexResult,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 71\n            },\n            __self: this\n          }, dataResult.title));\n          return dataResult;\n        });\n      }\n    }\n\n    console.log('searchResults', searchResults);\n    return React.createElement(PageTitle, {\n      title: \"Search\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"home\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"d-flex margin-top-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(MdKeyboardBackspace, {\n      className: \"fa-heart text-left\",\n      onClick: e => {\n        backToHome(e);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"position-relative search text-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(IoIosSearch, {\n      className: \"search-icon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      // ref={inputEl}\n      className: \"input-search\",\n      autoComplete: \"off\",\n      type: \"text\",\n      name: \"search\",\n      onChange: e => handleSearch(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"margin-top-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, content))));\n  }\n\n}\n\nconst mapStateToProps = (state, props) => ({\n  dataHome: state.home\n});\n\nconst mapDispatchToProps = dispatch => bindActionCreators({\n  getDataHome\n}, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SearchPage);","map":{"version":3,"sources":["/Users/gredu/Documents/sehatq-fandi/src/views/search/Index.js"],"names":["React","useRef","useEffect","useState","connect","bindActionCreators","PageTitle","getDataHome","IoIosSearch","MdKeyboardBackspace","SearchPage","Component","constructor","props","state","searchResults","componentDidMount","render","history","dataHome","data","content","products","backToHome","e","preventDefault","push","handleSearch","search","target","value","toLowerCase","productPromo","length","dataSearch","filter","x","title","includes","console","log","map","dataResult","indexResult","mapStateToProps","home","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { useRef, useEffect, useState } from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport PageTitle from '../../components/title/Index';\nimport { getDataHome } from '../../redux-modules/modules/Home';\nimport { IoIosSearch } from 'react-icons/io';\nimport { MdKeyboardBackspace } from 'react-icons/md'\n\nclass SearchPage extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            searchResults: [],\n        };\n    }\n    \n    componentDidMount() {\n        const { getDataHome } = this.props;\n        getDataHome();\n    }\n    render() {\n        const { getDataHome, history, dataHome } = this.props;\n        const { data } = dataHome;\n        let { searchResults } = this.state;\n        let content = [];\n        // const inputEl = useRef('');\n        let products = [];\n        // useEffect(() => {\n        //     getDataHome();\n        // }, [getDataHome]);\n        // let [searchName] = useState('');\n        // let searchResults = [];\n\n        const backToHome = (e) => {\n            e.preventDefault();\n            history.push('/home');\n        };\n        const handleSearch = (e) => {\n            e.preventDefault();\n            let search = e.target.value;\n            if (search) {\n                search = search.toLowerCase();\n                if (data) {\n                    if (data.productPromo) {\n                        if (data.productPromo.length > 0) {\n                            products = data.productPromo;\n                            const dataSearch = data.productPromo.filter(x => x.title\n                                .toLowerCase()\n                                .includes(e.target.value.toLowerCase()));\n                            if (dataSearch.length === 0) {\n                                searchResults = [];\n                                console.log('searchResults', searchResults);\n                            } else {\n                                searchResults = dataSearch;\n                                console.log('searchResults', searchResults);\n                            }\n                        }\n                    }\n                }\n            } else {\n                console.log('searchResults', searchResults);\n                searchResults = products;\n            }\n        };\n        if (searchResults) {\n            if (searchResults.length > 0) {\n                console.log('masuk');\n                searchResults.map((dataResult, indexResult) => {\n                    content.push(\n                        <div key={indexResult}>{dataResult.title}</div>,\n                    );\n                    return dataResult;\n                })\n            }\n        }\n        console.log('searchResults', searchResults);\n        return (\n            <PageTitle title=\"Search\">\n                <div className=\"wrapper\">\n                    <div className=\"home\">\n                        <div className=\"d-flex margin-top-4\">\n                            <MdKeyboardBackspace\n                                className=\"fa-heart text-left\"\n                                onClick={e => { backToHome(e) }}\n                            />\n                            <span className=\"position-relative search text-right\">\n                                <IoIosSearch className=\"search-icon\" />\n                                <input\n                                    // ref={inputEl}\n                                    className=\"input-search\"\n                                    autoComplete=\"off\"\n                                    type=\"text\"\n                                    name=\"search\"\n                                    onChange={e => handleSearch(e)}\n                                />\n                            </span>\n                        </div>\n                        <div className=\"margin-top-4\">\n                            {content}\n                        </div>\n                    </div>\n                </div>\n            </PageTitle>\n        );\n    }\n}\nconst mapStateToProps = (state, props) => ({\n    dataHome: state.home,\n});\n\nconst mapDispatchToProps = dispatch => bindActionCreators({\n    getDataHome,\n}, dispatch);\nexport default connect(mapStateToProps, mapDispatchToProps)(SearchPage);"]},"metadata":{},"sourceType":"module"}