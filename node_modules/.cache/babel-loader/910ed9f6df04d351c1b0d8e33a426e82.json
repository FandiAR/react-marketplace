{"ast":null,"code":"import superagent from 'superagent';\nconst methods = ['get', 'post', 'put', 'patch', 'del'];\nexport default class ApiClient {\n  constructor(req) {\n    methods.forEach(method => {\n      this[method] = (path, {\n        headers\n      }, params, data, files, fields = false) => new Promise((resolve, reject) => {\n        let request;\n        request = superagent[method](path);\n\n        if (params) {\n          request.query(params);\n        }\n\n        if (headers) {\n          request.set(headers);\n        }\n\n        if (files) {\n          files.forEach(file => request.attach(file.key, file.value));\n        }\n\n        if (fields) {\n          fields.forEach(item => request.field(item.key, item.value));\n        }\n\n        if (data) {\n          request.send(data);\n        }\n\n        request.end((err, {\n          body\n        } = {}) => err ? reject(body || err) : resolve(body));\n      });\n    });\n  }\n\n}","map":{"version":3,"sources":["/Users/gredu/Documents/react-marketplace/src/routes/ApiHost.js"],"names":["superagent","methods","ApiClient","constructor","req","forEach","method","path","headers","params","data","files","fields","Promise","resolve","reject","request","query","set","file","attach","key","value","item","field","send","end","err","body"],"mappings":"AAAA,OAAOA,UAAP,MAAuB,YAAvB;AAEA,MAAMC,OAAO,GAAG,CAAC,KAAD,EAAQ,MAAR,EAAgB,KAAhB,EAAuB,OAAvB,EAAgC,KAAhC,CAAhB;AAEA,eAAe,MAAMC,SAAN,CAAgB;AAC7BC,EAAAA,WAAW,CAACC,GAAD,EAAM;AACfH,IAAAA,OAAO,CAACI,OAAR,CAAgBC,MAAM,IAAI;AAExB,WAAKA,MAAL,IAAe,CAACC,IAAD,EAAO;AAAEC,QAAAA;AAAF,OAAP,EAAoBC,MAApB,EAA4BC,IAA5B,EAAkCC,KAAlC,EAAyCC,MAAM,GAAG,KAAlD,KAA4D,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AAE1G,YAAIC,OAAJ;AACAA,QAAAA,OAAO,GAAGhB,UAAU,CAACM,MAAD,CAAV,CAAmBC,IAAnB,CAAV;;AAEA,YAAIE,MAAJ,EAAY;AACVO,UAAAA,OAAO,CAACC,KAAR,CAAcR,MAAd;AACD;;AAED,YAAID,OAAJ,EAAa;AACXQ,UAAAA,OAAO,CAACE,GAAR,CAAYV,OAAZ;AACD;;AAED,YAAIG,KAAJ,EAAW;AACTA,UAAAA,KAAK,CAACN,OAAN,CAAcc,IAAI,IAAIH,OAAO,CAACI,MAAR,CAAeD,IAAI,CAACE,GAApB,EAAyBF,IAAI,CAACG,KAA9B,CAAtB;AACD;;AAED,YAAIV,MAAJ,EAAY;AACVA,UAAAA,MAAM,CAACP,OAAP,CAAekB,IAAI,IAAIP,OAAO,CAACQ,KAAR,CAAcD,IAAI,CAACF,GAAnB,EAAwBE,IAAI,CAACD,KAA7B,CAAvB;AACD;;AAED,YAAIZ,IAAJ,EAAU;AACRM,UAAAA,OAAO,CAACS,IAAR,CAAaf,IAAb;AACD;;AACDM,QAAAA,OAAO,CAACU,GAAR,CAAY,CAACC,GAAD,EAAM;AAAEC,UAAAA;AAAF,YAAW,EAAjB,KAAyBD,GAAG,GAAGZ,MAAM,CAACa,IAAI,IAAID,GAAT,CAAT,GAAyBb,OAAO,CAACc,IAAD,CAAxE;AACD,OAzB0E,CAA3E;AA0BD,KA5BD;AA6BD;;AA/B4B","sourcesContent":["import superagent from 'superagent';\n\nconst methods = ['get', 'post', 'put', 'patch', 'del'];\n\nexport default class ApiClient {\n  constructor(req) {\n    methods.forEach(method => {\n\n      this[method] = (path, { headers }, params, data, files, fields = false) => new Promise((resolve, reject) => {\n\n        let request;\n        request = superagent[method](path);\n\n        if (params) {\n          request.query(params);\n        }\n\n        if (headers) {\n          request.set(headers);\n        }\n\n        if (files) {\n          files.forEach(file => request.attach(file.key, file.value));\n        }\n\n        if (fields) {\n          fields.forEach(item => request.field(item.key, item.value));\n        }\n\n        if (data) {\n          request.send(data);\n        }\n        request.end((err, { body } = {}) => (err ? reject(body || err) : resolve(body)));\n      });\n    });\n  }\n}\n"]},"metadata":{},"sourceType":"module"}