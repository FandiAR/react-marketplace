{"ast":null,"code":"\"use strict\";\n/**\n * Return the mime type for the given `str`.\n *\n * @param {String} str\n * @return {String}\n * @api private\n */\n\nexports.type = function (str) {\n  return str.split(/ *; */).shift();\n};\n/**\n * Return header field parameters.\n *\n * @param {String} str\n * @return {Object}\n * @api private\n */\n\n\nexports.params = function (str) {\n  return str.split(/ *; */).reduce(function (obj, str) {\n    var parts = str.split(/ *= */);\n    var key = parts.shift();\n    var val = parts.shift();\n    if (key && val) obj[key] = val;\n    return obj;\n  }, {});\n};\n/**\n * Parse Link header fields.\n *\n * @param {String} str\n * @return {Object}\n * @api private\n */\n\n\nexports.parseLinks = function (str) {\n  return str.split(/ *, */).reduce(function (obj, str) {\n    var parts = str.split(/ *; */);\n    var url = parts[0].slice(1, -1);\n    var rel = parts[1].split(/ *= */)[1].slice(1, -1);\n    obj[rel] = url;\n    return obj;\n  }, {});\n};\n/**\n * Strip content related fields from `header`.\n *\n * @param {Object} header\n * @return {Object} header\n * @api private\n */\n\n\nexports.cleanHeader = function (header, changesOrigin) {\n  delete header['content-type'];\n  delete header['content-length'];\n  delete header['transfer-encoding'];\n  delete header.host; // secuirty\n\n  if (changesOrigin) {\n    delete header.authorization;\n    delete header.cookie;\n  }\n\n  return header;\n};","map":{"version":3,"sources":["../src/utils.js"],"names":["exports","str","parts","key","val","obj","url","rel","header"],"mappings":";AAAA;;;;;;;;AAQAA,OAAO,CAAPA,IAAAA,GAAe,UAAA,GAAA,EAAG;AAAA,SAAIC,GAAG,CAAHA,KAAAA,CAAAA,OAAAA,EAAJ,KAAIA,EAAJ;AAAlBD,CAAAA;AAEA;;;;;;;;;AAQAA,OAAO,CAAPA,MAAAA,GAAiB,UAAA,GAAA,EAAG;AAAA,SAClB,GAAG,CAAH,KAAA,CAAA,OAAA,EAAA,MAAA,CAA0B,UAAA,GAAA,EAAA,GAAA,EAAc;AACtC,QAAME,KAAK,GAAGD,GAAG,CAAHA,KAAAA,CAAd,OAAcA,CAAd;AACA,QAAME,GAAG,GAAGD,KAAK,CAAjB,KAAYA,EAAZ;AACA,QAAME,GAAG,GAAGF,KAAK,CAAjB,KAAYA,EAAZ;AAEA,QAAIC,GAAG,IAAP,GAAA,EAAgBE,GAAG,CAAHA,GAAG,CAAHA,GAAAA,GAAAA;AAChB,WAAA,GAAA;AANF,GAAA,EADkB,EAClB,CADkB;AAApBL,CAAAA;AAUA;;;;;;;;;AAQAA,OAAO,CAAPA,UAAAA,GAAqB,UAAA,GAAA,EAAG;AAAA,SACtB,GAAG,CAAH,KAAA,CAAA,OAAA,EAAA,MAAA,CAA0B,UAAA,GAAA,EAAA,GAAA,EAAc;AACtC,QAAME,KAAK,GAAGD,GAAG,CAAHA,KAAAA,CAAd,OAAcA,CAAd;AACA,QAAMK,GAAG,GAAGJ,KAAK,CAALA,CAAK,CAALA,CAAAA,KAAAA,CAAAA,CAAAA,EAAkB,CAA9B,CAAYA,CAAZ;AACA,QAAMK,GAAG,GAAGL,KAAK,CAALA,CAAK,CAALA,CAAAA,KAAAA,CAAAA,OAAAA,EAAAA,CAAAA,EAAAA,KAAAA,CAAAA,CAAAA,EAAoC,CAAhD,CAAYA,CAAZ;AACAG,IAAAA,GAAG,CAAHA,GAAG,CAAHA,GAAAA,GAAAA;AACA,WAAA,GAAA;AALF,GAAA,EADsB,EACtB,CADsB;AAAxBL,CAAAA;AASA;;;;;;;;;AAQAA,OAAO,CAAPA,WAAAA,GAAsB,UAAA,MAAA,EAAA,aAAA,EAA2B;AAC/C,SAAOQ,MAAM,CAAb,cAAa,CAAb;AACA,SAAOA,MAAM,CAAb,gBAAa,CAAb;AACA,SAAOA,MAAM,CAAb,mBAAa,CAAb;AACA,SAAOA,MAAM,CAJkC,IAI/C,CAJ+C,CAK/C;;AACA,MAAA,aAAA,EAAmB;AACjB,WAAOA,MAAM,CAAb,aAAA;AACA,WAAOA,MAAM,CAAb,MAAA;AACD;;AAED,SAAA,MAAA;AAXFR,CAAAA","sourcesContent":["/**\n * Return the mime type for the given `str`.\n *\n * @param {String} str\n * @return {String}\n * @api private\n */\n\nexports.type = str => str.split(/ *; */).shift();\n\n/**\n * Return header field parameters.\n *\n * @param {String} str\n * @return {Object}\n * @api private\n */\n\nexports.params = str =>\n  str.split(/ *; */).reduce((obj, str) => {\n    const parts = str.split(/ *= */);\n    const key = parts.shift();\n    const val = parts.shift();\n\n    if (key && val) obj[key] = val;\n    return obj;\n  }, {});\n\n/**\n * Parse Link header fields.\n *\n * @param {String} str\n * @return {Object}\n * @api private\n */\n\nexports.parseLinks = str =>\n  str.split(/ *, */).reduce((obj, str) => {\n    const parts = str.split(/ *; */);\n    const url = parts[0].slice(1, -1);\n    const rel = parts[1].split(/ *= */)[1].slice(1, -1);\n    obj[rel] = url;\n    return obj;\n  }, {});\n\n/**\n * Strip content related fields from `header`.\n *\n * @param {Object} header\n * @return {Object} header\n * @api private\n */\n\nexports.cleanHeader = (header, changesOrigin) => {\n  delete header['content-type'];\n  delete header['content-length'];\n  delete header['transfer-encoding'];\n  delete header.host;\n  // secuirty\n  if (changesOrigin) {\n    delete header.authorization;\n    delete header.cookie;\n  }\n\n  return header;\n};\n"]},"metadata":{},"sourceType":"script"}